<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>VFSP-WAS demo page</title>

  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" type="text/css">
  <link rel="stylesheet" href="https://unpkg.com/ol-layerswitcher@3.5.0/src/ol-layerswitcher.css" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <!-- Our Custom CSS -->
  <link rel="stylesheet" href="style.css">


  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v5.3.0/build/ol.js"></script>
  <script src="https://unpkg.com/ol-layerswitcher@3.5.0"></script>
  <!-- <script src="vue"></script> -->
</head>
<body>
  <div class="wrapper">
    <!-- Sidebar  -->
    <nav id="sidebar">
      <div class="sidebar-header">
        <!-- <h3>Navigation</h3> -->
        <!-- <strong>BS</strong> -->
        <button type="button" id="sidebarCollapse" class="btn btn-info">
            <!-- <i class="fas fa-align-left"></i> -->
            <!-- <span>Toggle Sidebar</span> -->
            <h3>Collapse Navbar</h3>
            <i class="fas fa-align-justify"></i>
            <!-- <strong>BS</strong> -->
        </button>
      </div>

      <ul class="list-unstyled components">
        <li class="active">
          <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
            <i class="fas fa-home"></i>
            Home
          </a>
          <ul class="collapse list-unstyled" id="homeSubmenu">
            <li>
              <a href="#">Home 1</a>
            </li>
            <li>
              <a href="#">Home 2</a>
            </li>
            <li>
              <a href="#">Home 3</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="fas fa-briefcase"></i>
            About
          </a>
          <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
            <i class="fas fa-copy"></i>
            Pages
          </a>
          <ul class="collapse list-unstyled" id="pageSubmenu">
            <li>
              <a href="#">Page 1</a>
            </li>
            <li>
              <a href="#">Page 2</a>
            </li>
            <li>
              <a href="#">Page 3</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="fas fa-image"></i>
            Portfolio
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fas fa-question"></i>
            FAQ
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fas fa-paper-plane"></i>
            Contact
          </a>
        </li>
      </ul>

      <!-- <ul class="list-unstyled CTAs">
        <li>
          <a href="https://bootstrapious.com/tutorial/files/sidebar.zip" class="download">Download source</a>
        </li>
        <li>
          <a href="https://bootstrapious.com/p/bootstrap-sidebar" class="article">Back to article</a>
        </li>
      </ul> -->
    </nav>

    <!-- Page Content  -->
    <div id="content">

      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">

          <!-- <button type="button" id="sidebarCollapseOrig" class="btn btn-info">
            <i class="fas fa-align-left"></i>
            <span>Toggle Sidebar</span>
          </button> -->
          <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fas fa-align-justify"></i>
          </button>

          <img src="ECCCLogo" alt="logo" />

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="nav navbar-nav ml-auto">
              <li class="nav-item active">
                <a class="nav-link" href="#">Page</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Page</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Page</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Page</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <center>
      <input type="submit" onclick="sync1()" value="Sync with 1">
      <input type="submit" onclick="sync2()" value="Sync with 2">
      <input type="submit" onclick="unsync()" value="Unsync">
      <input type="submit" onclick="sync3()" value="Sync with 3">
      <input type="submit" onclick="sync4()" value="Sync with 4">
      <div class="grid-container">
        <div id="map1"></div>
        <div id="map2"></div>
        <div id="map3"></div>
        <div id="map4"></div>
      </div>
      </center>
  </div>



  <!-- <div id="app">
  {{ message }}
  </div>
  <div id="app-2">
  <span v-bind:title="message">
    Hover your mouse over me for a few seconds
    to see my dynamically bound title!
  </span>
  </div> -->

  <script type="text/javascript">
  $(document).ready(function () {

    $('#sidebarCollapse').on('click', function () {
      $('#sidebar').toggleClass('active');
    });
    $('#sidebarCollapseOrig').on('click', function () {
      $('#sidebar').toggleClass('active');
    });
  });
  // var app = new Vue({
  //   el: '#app',
  //   data: {
  //   message: 'Hello Vue!'
  //   }
  // })

  // var app2 = new Vue({
  //   el: '#app-2',
  //   data: {
  //   message: 'You loaded this page on ' + new Date().toLocaleString()
  //   }
  // })

    var map1 = new ol.Map({
    target: 'map1',
    layers: [
        new ol.layer.Tile({
        source: new ol.source.OSM()
        }),
        new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'https://geo.weather.gc.ca/geomet',
            params: {'LAYERS': 'RADAR_1KM_RRAI'},
            ratio: 1,
            serverType: 'mapserver'
        })
        })
    ],
    view: new ol.View({
        center: ol.proj.fromLonLat([-100, 45]),
        zoom: 4
    })
    });

    var map2 = new ol.Map({
    target: 'map2',
    layers: [
        new ol.layer.Tile({
        source: new ol.source.OSM()
        }),
        new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'https://geo.weather.gc.ca/geomet',
            params: {'LAYERS': 'CURRENT_CONDITIONS'},
            ratio: 1,
            serverType: 'mapserver'
        })
        })
    ],
    view: new ol.View({
        center: ol.proj.fromLonLat([-100, 45]),
        zoom: 4
    })
    });

    var map3 = new ol.Map({
    target: 'map3',
    layers: [
        new ol.layer.Tile({
        source: new ol.source.OSM()
        }),
        new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'https://geo.weather.gc.ca/geomet',
            params: {'LAYERS': 'HRDPS.CONTINENTAL_TT'},
            ratio: 1,
            serverType: 'mapserver',
            
        }),
        opacity: 0.4
        })
    ],
    view: new ol.View({
        center: ol.proj.fromLonLat([-100, 45]),
        zoom: 4
    })
    });

    var map4 = new ol.Map({
        target: 'map4',
        layers: [
            new ol.layer.Tile({
            source: new ol.source.OSM()
            }),
            new ol.layer.Image({
                source: new ol.source.ImageWMS({
                url: 'https://geo.weather.gc.ca/geomet',
                params: {'LAYERS': 'HRDPS.CONTINENTAL_HU'},
                ratio: 1,
                serverType: 'mapserver'
            }),
            opacity: 0.4
            })
        ],

        view: new ol.View({
            center: ol.proj.fromLonLat([-100, 45]),
            zoom: 4
        })
    });


    var layerSwitcher1 = new ol.control.LayerSwitcher();
    map1.addControl(layerSwitcher1);
    var layerSwitcher2 = new ol.control.LayerSwitcher();
    map2.addControl(layerSwitcher2);



    function sync1() {
        map2.setView(map1.getView());
        map3.setView(map1.getView());
        map4.setView(map1.getView());
        
    }
    function sync2() {
        map1.setView(map2.getView());
        map3.setView(map2.getView());
        map4.setView(map2.getView());
    }
    function sync3() {
        map1.setView(map3.getView());
        map2.setView(map3.getView());
        map4.setView(map3.getView());
        
    }
    function sync4() {
        map1.setView(map4.getView());
        map2.setView(map4.getView());
        map3.setView(map4.getView());
        
    }

    function unsync() {
        map2.setView(new ol.View({
            projection: map2.getView().getProjection(),
            center: map2.getView().getCenter(),
            resolution: map2.getView().getResolution(),
            rotation: map2.getView().getRotation(),
            maxZoom: map2.getView().getMaxZoom(),
            minZoom: map2.getView().getMinZoom()
        }));
        map3.setView(new ol.View({
            projection: map3.getView().getProjection(),
            center: map3.getView().getCenter(),
            resolution: map3.getView().getResolution(),
            rotation: map3.getView().getRotation(),
            maxZoom: map3.getView().getMaxZoom(),
            minZoom: map3.getView().getMinZoom()
        }));
        map4.setView(new ol.View({
            projection: map4.getView().getProjection(),
            center: map4.getView().getCenter(),
            resolution: map4.getView().getResolution(),
            rotation: map4.getView().getRotation(),
            maxZoom: map4.getView().getMaxZoom(),
            minZoom: map4.getView().getMinZoom()
        }));
    }
  </script>
</body>
</html>
